<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CrossRun</title>
  <subtitle>谁与我大梦一场</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://crossrun.top/"/>
  <updated>2016-08-31T08:58:22.734Z</updated>
  <id>http://crossrun.top/</id>
  
  <author>
    <name>CrossRun</name>
    <email>rujiang_g@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Android-studio-关联源代码</title>
    <link href="http://crossrun.top/2016/08/31/Android-studio-%E5%85%B3%E8%81%94%E6%BA%90%E4%BB%A3%E7%A0%81/"/>
    <id>http://crossrun.top/2016/08/31/Android-studio-关联源代码/</id>
    <published>2016-08-31T08:55:14.000Z</published>
    <updated>2016-08-31T08:58:22.734Z</updated>
    
    <content type="html">&lt;p&gt;windows下：系统盘:\Users\username.AndroidStudioBeta&lt;br&gt;Mac下：~/Library/Preferences/AndroidStudioBeta&lt;br&gt;Linux下：/.AndroidStudio/config/options/&lt;br&gt;C:\Users\用户.AndroidStudio2.1\config\options 这个路径，找到jdk.table.xml这个文件 &lt;/p&gt;
&lt;p&gt;找到&lt;code&gt;sourcepath&lt;/code&gt;节点，&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;sourcePath&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &amp;lt;root type=&amp;quot;composite&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;lt;root type=&amp;quot;simple&amp;quot; url=&amp;quot;file://D:/Android/sdk/sources/android-21&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &amp;lt;/root&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;lt;/sourcePath&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;windows下：系统盘:\Users\username.AndroidStudioBeta&lt;br&gt;Mac下：~/Library/Preferences/AndroidStudioBeta&lt;br&gt;Linux下：/.AndroidStudio/config/options/&lt;
    
    </summary>
    
    
      <category term="Android-studio" scheme="http://crossrun.top/tags/Android-studio/"/>
    
  </entry>
  
  <entry>
    <title>Android源码设计模式-读书笔记003-原型模式</title>
    <link href="http://crossrun.top/2016/08/31/Android-Source-Design-pattern-004/"/>
    <id>http://crossrun.top/2016/08/31/Android-Source-Design-pattern-004/</id>
    <published>2016-08-31T06:30:06.000Z</published>
    <updated>2016-08-31T08:51:56.807Z</updated>
    
    <content type="html">&lt;p&gt;原型模式最大的特点就是“克隆”，从一个样本对象中付复制出一个内部属性一致的对象。多用于创建复杂的或者构造耗时的实例。&lt;br&gt;通常，会实现&lt;code&gt;Cloneable&lt;/code&gt; 接口，但是不是必须的，然后调用&lt;code&gt;clone()&lt;/code&gt;得到新的对象。需要注意的是，&lt;em&gt;如果调用了 &lt;code&gt;clone()&lt;/code&gt;则必须实现&lt;code&gt;Cloneable&lt;/code&gt; 接口&lt;/em&gt;。而且，调用&lt;code&gt;clone()&lt;/code&gt;构造实例的时候，&lt;em&gt;并不一定就比通过 &lt;code&gt;new&lt;/code&gt; 操作速度快&lt;/em&gt;。&lt;br&gt;Java提供的&lt;code&gt;clone()&lt;/code&gt;方法，需要注意浅拷贝和深拷贝，对于实例内部有引用类型的属性时，需要对引用类型的属性再次使用&lt;code&gt;clone()&lt;/code&gt;。&lt;br&gt;&lt;em&gt;&lt;code&gt;clone()&lt;/code&gt;并不会走构造方法！&lt;/em&gt;&lt;br&gt;&lt;em&gt;&lt;code&gt;clone()&lt;/code&gt;并不会走构造方法！&lt;/em&gt;&lt;br&gt;&lt;em&gt;&lt;code&gt;clone()&lt;/code&gt;并不会走构造方法！&lt;/em&gt;&lt;br&gt;&lt;em&gt;&lt;code&gt;clone()&lt;/code&gt;并不会走构造方法！&lt;/em&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class WordDocument&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   ArrayList&amp;lt;String&amp;gt; imgs;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   protected WordDocument clone()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   	try&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   		WordDocument doc = (WordDocument)super.clone();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   		doc.imgs = (List&amp;lt;String&amp;gt;)this.imgs.clone();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   		return doc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   		&amp;#125;catch(Exception e)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Android 中 使用原型模式最常见的当属 &lt;code&gt;Intent&lt;/code&gt; ，只是&lt;code&gt;Intent&lt;/code&gt;并没有调用&lt;code&gt;clone()&lt;/code&gt;方法，而是&lt;code&gt;new&lt;/code&gt;了一个新的实例，此处两者构造方式并没有太多区别。&lt;/p&gt;
&lt;p&gt;原型模式还有一妙用，就是防止外部对某个只读对象的修改，当返回 实例的时候，可以 用 &lt;code&gt;obj.clone()&lt;/code&gt; 返回一个深度拷贝对象，这样无论外界修改与否，不会影响到真正需要保持的。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class User implements Cloneable&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public String name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    protected User clone()  &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        User us= null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            us = (User)super.clone();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; catch (CloneNotSupportedException e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return us;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class LoginSession &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static LoginSession session = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public static LoginSession getSession()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (session == null)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            session = new LoginSession();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return session;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public User getLoginUser()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return loginUser.clone();//这里&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private User loginUser;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    protected   void setLoginUser(User loginUser)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        this.loginUser = loginUser;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原型模式最大的特点就是“克隆”，从一个样本对象中付复制出一个内部属性一致的对象。多用于创建复杂的或者构造耗时的实例。&lt;br&gt;通常，会实现&lt;code&gt;Cloneable&lt;/code&gt; 接口，但是不是必须的，然后调用&lt;code&gt;clone()&lt;/code&gt;得到新的对象。需要注意
    
    </summary>
    
    
      <category term="Android-Source-Design-pattern" scheme="http://crossrun.top/tags/Android-Source-Design-pattern/"/>
    
  </entry>
  
  <entry>
    <title>Android版本变迁的坑-获取系统相册图片</title>
    <link href="http://crossrun.top/2016/08/08/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91-%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87/"/>
    <id>http://crossrun.top/2016/08/08/Android版本变迁的坑-获取系统相册图片/</id>
    <published>2016-08-08T07:46:22.000Z</published>
    <updated>2016-08-08T08:06:28.533Z</updated>
    
    <content type="html">&lt;p&gt;Android里得到手机相册里图片是个常用的功能，但是由于各种版本，各种机型，导致没有一个通用的方法，都需要加上各种判断才能正确解析。下面列出一个目前我常用的解析方法合集。&lt;br&gt;这是请求方式：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Intent getAlbum = new Intent(Intent.ACTION_GET_CONTENT);					&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;getAlbum.setType(&amp;quot;image/*&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;startActivityForResult(getAlbum, tag);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这是解析方式：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Uri selectedImage = data.getData();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if (null == selectedImage) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Utils.showToast(getContext(), &amp;quot;选择图片失败&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//这里注意，小米的机型返回的是 file:// 不是 content:// 这里是处理file开头的uri&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;boolean s = selectedImage.toString().startsWith(&amp;quot;con&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if (!s) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	imgPath = new File(new URI(selectedImage.toString())).getAbsolutePath();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; catch (URISyntaxException e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		// TODO Auto-generated catch block&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		imgPath = &amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Cursor cursor = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		if (android.os.Build.VERSION.SDK_INT &amp;gt;= android.os.Build.VERSION_CODES.KITKAT) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			String wholeID = DocumentsContract.getDocumentId(selectedImage);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			String id = wholeID.split(&amp;quot;:&amp;quot;)[1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			String[] column = &amp;#123; MediaStore.Images.Media.DATA &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			String sel = MediaStore.Images.Media._ID + &amp;quot;=?&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			cursor = getContext().getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, column, sel,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;					new String[] &amp;#123; id &amp;#125;, null);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			int columnIndex = cursor.getColumnIndex(column[0]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			if (cursor.moveToFirst()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				imgPath = cursor.getString(columnIndex);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; catch (Exception e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		imgPath = &amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//这里，之所以有过版本判断还要再做一次，是因为有的机型明明是高版本的Android，却用的是低版本的方式，比如vivo的某机型&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	if (TextUtils.isEmpty(imgPath)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		String[] projection = &amp;#123; MediaStore.Images.Media.DATA &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		cursor = getContext().getContentResolver().query(selectedImage, projection, null, null, null);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		cursor.moveToFirst();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		imgPath = cursor.getString(column_index);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if (TextUtils.isEmpty(imgPath)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Utils.showToast(getContext(), &amp;quot;选择图片失败&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;顺便提一句，建议通过获取&lt;code&gt;uri&lt;/code&gt;方式得到图片，而不是bitmap方式，&lt;br&gt;第一：不是所有的机型都返回&lt;code&gt;bitmap&lt;/code&gt;；&lt;br&gt;第二：&lt;code&gt;bitmap&lt;/code&gt;需要注意内存，比较烦人；&lt;br&gt;第三：有时候&lt;code&gt;bitmap&lt;/code&gt;过大，会导致&lt;code&gt;Intent&lt;/code&gt;挂掉；&lt;br&gt;第四，有的机型，返回的&lt;code&gt;bitmap&lt;/code&gt;并不是原图，而是缩略图。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Android里得到手机相册里图片是个常用的功能，但是由于各种版本，各种机型，导致没有一个通用的方法，都需要加上各种判断才能正确解析。下面列出一个目前我常用的解析方法合集。&lt;br&gt;这是请求方式：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;tab
    
    </summary>
    
    
      <category term="Android版本变迁的坑" scheme="http://crossrun.top/tags/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>Android源码设计模式-读书笔记003-Builder模式</title>
    <link href="http://crossrun.top/2016/07/25/Android-Source-Design-pattern-003/"/>
    <id>http://crossrun.top/2016/07/25/Android-Source-Design-pattern-003/</id>
    <published>2016-07-25T06:51:11.000Z</published>
    <updated>2016-07-25T08:19:57.890Z</updated>
    
    <content type="html">&lt;p&gt;说起Builder模式，就是一点点的输入要素从而创建一个完整的对象。最经典的应该是 &lt;code&gt;AlertDialog&lt;/code&gt; 里的&lt;code&gt;Builder&lt;/code&gt;。简单说起来，就是一步步的&lt;code&gt;set&lt;/code&gt;方法整合到一起，也是想要屏蔽细节的一种思想。值得一提的是，往往每一步&lt;code&gt;set&lt;/code&gt;都会返回自身，形成一个链式调用。&lt;br&gt;    引用书上的一段话：&lt;br&gt;1.相同的方法，不同的执行顺序，产生不同的事件结果时。&lt;br&gt;2.多个部件或零件，都可以装配到一个对象中，但是产生的运行结果又不相同时。&lt;br&gt;3.产品类非常复杂，或者产品类中的调用顺序不同产生了不同的作用，这个时候使用Builder模式非常合适。&lt;br&gt;4.当初始化一个对象特别复，如参数多，且很多参数有默认值时。&lt;/p&gt;
&lt;p&gt;总结起来，一个是初始化的&lt;em&gt;顺序&lt;/em&gt;，一个初始化的&lt;em&gt;参数多&lt;/em&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;AlertDialog&lt;/code&gt;中持有一个 &lt;code&gt;mAlert = new AlertController&lt;/code&gt; ，Builder里有一个 &lt;code&gt;p = new AlertController.AlertParams&lt;/code&gt; ，在buidler的时候，填充入&lt;code&gt;p&lt;/code&gt;的值，然后在&lt;code&gt;create()&lt;/code&gt;方法里，创建一个&lt;code&gt;AlertDialog&lt;/code&gt;，同时 &lt;code&gt;p.apply(dialog.mAlert)&lt;/code&gt; 把填充的属性应用到创建的&lt;code&gt;AlertDialog&lt;/code&gt;，完成一个创建流程。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;说起Builder模式，就是一点点的输入要素从而创建一个完整的对象。最经典的应该是 &lt;code&gt;AlertDialog&lt;/code&gt; 里的&lt;code&gt;Builder&lt;/code&gt;。简单说起来，就是一步步的&lt;code&gt;set&lt;/code&gt;方法整合到一起，也是想要屏蔽细节的一种
    
    </summary>
    
    
      <category term="Android-Source-Design-pattern" scheme="http://crossrun.top/tags/Android-Source-Design-pattern/"/>
    
  </entry>
  
  <entry>
    <title>Android源码设计模式-读书笔记002-单例模式</title>
    <link href="http://crossrun.top/2016/06/07/Android-Source-Design-pattern-002/"/>
    <id>http://crossrun.top/2016/06/07/Android-Source-Design-pattern-002/</id>
    <published>2016-06-07T02:43:40.000Z</published>
    <updated>2016-06-07T07:40:49.757Z</updated>
    
    <content type="html">&lt;p&gt;单例想必是用的最广泛的一种模式，目的是保证程序运行期间只有一个实例存在，一般而言，构造函数是 &lt;code&gt;private&lt;/code&gt;，不过Android中有一个很重要的&lt;code&gt;Context&lt;/code&gt;，有时候可能仍然需要外部传递一个&lt;code&gt;Context&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;本章单例模式，学会了几种新的方法。&lt;br&gt;最原始的单例如下：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class Singleton &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private static Singleton mInstance = new Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private Singleton() &amp;#123;       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public static Singleton getInstance() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return mInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;以上，比较常见的，有个缺点就是如果用不到 &lt;code&gt;mInstance&lt;/code&gt; 就会浪费时间和空间去加载，所有有了下面的进化版本：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class Singleton &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private static Singleton mInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private Singleton() &amp;#123;       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public synchronized static Singleton getInstance() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	if(null == mInstance)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		mInstance = = new Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return mInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;但是每次调用&lt;code&gt;getInstance()&lt;/code&gt;的时候，都会加锁，性能上不好，再进化版本，&lt;em&gt;DCL double check lock 双重加锁&lt;/em&gt;：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class Singleton &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private static Singleton mInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private Singleton() &amp;#123;       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public static Singleton getInstance() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	if(null == mInstance)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		synchronized()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			if (null == mInstance)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    				mInstance = = new Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&amp;#125;    		&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return mInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意此处的两个&lt;code&gt;if&lt;/code&gt;判断，牵扯到类加载的原理等等（具体细节文末讨论），这样做保证用的时候才加载，而且解决了资源消耗、多余的同步，线程安全，但是书中指出在某些情况下仍然会出现失效的问题，双重检查锁定(DCL)失效，推荐了另外一种方式，&lt;em&gt;静态内部类单例模式&lt;/em&gt;：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class Singleton &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private Singleton() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public synchronized static Singleton getInstance() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return SingletonHandler.sIntance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private static class SingletonHandler &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        private static final Singleton sIntance = new Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;很神奇的写法，第一次接触到，利用了以前不知道的Java内部类知识，第一次加载&lt;code&gt;Singleon&lt;/code&gt;类的时候，不会初始化&lt;code&gt;sInstance&lt;/code&gt;，只有调用的时候，才会去初始化。不仅保证了线程安全，也保证了单例对象的唯一性，同时实现了延迟了单例的实例化。&lt;br&gt;然后，作者又提出一种新的方式，&lt;em&gt;枚举单例&lt;/em&gt;：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public enum SingletEnum&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  INSTANCE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  public void doSomething()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //something&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;是不是很神奇的想法！！原本以为只是简简单单的单例，没想到学到了两个 类加载的点，以及一个很奇妙的单例想法。&lt;br&gt;还有很重要的一点，&lt;em&gt;反序列化&lt;/em&gt;。&lt;br&gt;Java中的枚举 和普通类一样的，不仅可以有字段，还可以有自己的方法，默认枚举的创建是线程安全的，并且在任何在情况下都是一个单例。除了枚举单例，以上的其他的单例都要面临一个反序列化的问题，如果要杜绝单例对象在反序列化的时候重新生成对象，必须加入重写以下方法：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private Object readResolve() throws ObjectStreamException&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return sInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;readResolve()&lt;/code&gt;方法是开发人员控制对象的反序列化一个手段。&lt;/p&gt;
&lt;h1 id=&quot;备注：&quot;&gt;&lt;a href=&quot;#备注：&quot; class=&quot;headerlink&quot; title=&quot;备注：&quot;&gt;&lt;/a&gt;备注：&lt;/h1&gt;&lt;h2 id=&quot;两个if判断说明：&quot;&gt;&lt;a href=&quot;#两个if判断说明：&quot; class=&quot;headerlink&quot; title=&quot;两个if判断说明：&quot;&gt;&lt;/a&gt;两个&lt;code&gt;if&lt;/code&gt;判断说明：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;分配内存&lt;/li&gt;
&lt;li&gt;调用构造函数，初始化成员字段&lt;/li&gt;
&lt;li&gt;&lt;p&gt;将对象指向分配的内存&lt;br&gt;上述三个步骤，第二步和第三步并不保证顺序，所以当出现 1-3-2 这时候，3执行完毕，2未执行，B线程切换，由于 已经分配内存，不为&lt;code&gt;null&lt;/code&gt;，取走&lt;code&gt;sInstance&lt;/code&gt;直接使用，但是可能尚未初始化，导致程序出现问题，DCL失效问题。&lt;br&gt;JDK1.5以后，&lt;code&gt;sInstance&lt;/code&gt; 添加 &lt;code&gt;volatile&lt;/code&gt; 修饰，可以避免以上问题。&lt;br&gt;既然提到了 主内存 多线程，多说一句，一个典型的场景&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;int sum = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (int i = 0; i &amp;lt; 1000; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        new Thread() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void run() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    Thread.sleep(1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sum = sum + 1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; catch (InterruptedException e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;实际上，结果并不总是1000，而是1-1000之间的一个数字，read-load-use-asign-store-write ，取值，计算的时候是副本，然后回写到主内存区，从而导致了这样的问题。&lt;br&gt;&lt;img src=&quot;/pic/201204011757234696.jpg&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;参考这篇文章 &lt;a href=&quot;http://www.cnblogs.com/aigongsi/archive/2012/04/01/2429166.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java中volatile关键字的含义&lt;/a&gt; 有详细的说明&lt;br&gt;&lt;code&gt;volatile&lt;/code&gt; 提示变量从主内存中取数据而不是另外的地方。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;静态内部类：&quot;&gt;&lt;a href=&quot;#静态内部类：&quot; class=&quot;headerlink&quot; title=&quot;静态内部类：&quot;&gt;&lt;/a&gt;静态内部类：&lt;/h2&gt;&lt;p&gt;  一直以为静态变量和静态区块在类加载的时候都会执行，但是静态内部类的静态变量并不会一开始就加载，这个很重要，我一直不知道。&lt;br&gt;  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class Main &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   public static void main(String[] args) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   	new Singleton().print(&amp;quot;sssssssssssss&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      Singleton.getInstance();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;  public class Singleton &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public Singleton() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        System.err.println(&amp;quot;Singleton&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public synchronized static Singleton getInstance() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return SingletonHandler.sIntance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void print(String str) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        System.err.println(str);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private static class SingletonHandler &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        private static final Singleton sIntance = new Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  此处 &lt;code&gt;Singleton&lt;/code&gt; 的构造函数，&lt;code&gt;public&lt;/code&gt; 仅仅是为了演示说明，应该是&lt;code&gt;private&lt;/code&gt;。通过这两个类的简单示例可以看到，确实，静态内部类的静态变量不会一开始去就执行，需要外部调用&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;单例想必是用的最广泛的一种模式，目的是保证程序运行期间只有一个实例存在，一般而言，构造函数是 &lt;code&gt;private&lt;/code&gt;，不过Android中有一个很重要的&lt;code&gt;Context&lt;/code&gt;，有时候可能仍然需要外部传递一个&lt;code&gt;Context&lt;/c
    
    </summary>
    
    
      <category term="Android-Source-Design-pattern" scheme="http://crossrun.top/tags/Android-Source-Design-pattern/"/>
    
  </entry>
  
  <entry>
    <title>Android源码设计模式-读书笔记001</title>
    <link href="http://crossrun.top/2016/06/06/Android-Source-Design-pattern-001/"/>
    <id>http://crossrun.top/2016/06/06/Android-Source-Design-pattern-001/</id>
    <published>2016-06-06T08:13:35.000Z</published>
    <updated>2016-06-06T08:57:53.563Z</updated>
    
    <content type="html">&lt;p&gt;第一章描述了面向对象六大的原则，平时有用到一些，没有想过总结之类的，并不是强求必须符合，但是具有很高的指导意义。&lt;/p&gt;
&lt;h2 id=&quot;单一&quot;&gt;&lt;a href=&quot;#单一&quot; class=&quot;headerlink&quot; title=&quot;单一&quot;&gt;&lt;/a&gt;单一&lt;/h2&gt;&lt;p&gt;  每个对象应该只专注于一个功能，以文中加载图片工具为例，可分为&lt;code&gt;缓存+显示图片&lt;/code&gt;两个功能模块，应该分成两个不同的类&lt;/p&gt;
&lt;h2 id=&quot;开闭&quot;&gt;&lt;a href=&quot;#开闭&quot; class=&quot;headerlink&quot; title=&quot;开闭&quot;&gt;&lt;/a&gt;开闭&lt;/h2&gt;&lt;p&gt;  尽量对修改关闭，对扩展开放。很有意义的一个原则。上个例子中的 &lt;code&gt;缓存&lt;/code&gt; 根据需求可以有 &lt;code&gt;内存缓存&lt;/code&gt; &lt;code&gt;SD卡缓存&lt;/code&gt; &lt;code&gt;两个同时缓存&lt;/code&gt;三种模式。当缓存有新的需求，添加新的缓存逻辑。正是由于&lt;code&gt;缓存+显示图片&lt;/code&gt;两个功能分开，更能体现出开闭原则，这里 抽象 便是一个重要的思想了，将 &lt;code&gt;缓存&lt;/code&gt;抽象出一个接口，三种模式均实现接口，借此完成对修改关闭，对扩展开放,若有新的需求，实现接口，完成自己的新的细节。&lt;/p&gt;
&lt;h2 id=&quot;里氏替换&quot;&gt;&lt;a href=&quot;#里氏替换&quot; class=&quot;headerlink&quot; title=&quot;里氏替换&quot;&gt;&lt;/a&gt;里氏替换&lt;/h2&gt;&lt;p&gt;  有点饶人的原则，大意便是，使用基类的地方，子类可以随意替换而不对程序造成危害，但是反过来不一定了。&lt;/p&gt;
&lt;h2 id=&quot;依赖翻转&quot;&gt;&lt;a href=&quot;#依赖翻转&quot; class=&quot;headerlink&quot; title=&quot;依赖翻转&quot;&gt;&lt;/a&gt;依赖翻转&lt;/h2&gt;&lt;p&gt;  1.上层不依赖下层&lt;br&gt;  2.抽象不依赖细节&lt;br&gt;  3.细节依赖抽象。&lt;br&gt;  抽象是接口或者抽象类，细节是具体的实现类。其中心思想是通过接口通信，而不是类之间耦合。开闭原则实现的一个重要手段便是抽象，此处实现方式类似。&lt;/p&gt;
&lt;h2 id=&quot;接口隔离&quot;&gt;&lt;a href=&quot;#接口隔离&quot; class=&quot;headerlink&quot; title=&quot;接口隔离&quot;&gt;&lt;/a&gt;接口隔离&lt;/h2&gt;&lt;p&gt;  对于抽象出来的接口，应该尽可能的小，类之间的以来关系建立在最小的接口上。比如 飞机可以飞，鸟也可以飞，飞的实现细节不一致，但是需要的只是飞，那么设计接口的时候，只需要 fei 一个接口，不应当关心是鸟还是飞机。&lt;/p&gt;
&lt;h2 id=&quot;迪米特原则&quot;&gt;&lt;a href=&quot;#迪米特原则&quot; class=&quot;headerlink&quot; title=&quot;迪米特原则&quot;&gt;&lt;/a&gt;迪米特原则&lt;/h2&gt;&lt;p&gt;  接口隔离针对的是接口，那么迪米特原则针对的便是类。也是最小化思想，解耦。突然想到了 Golang 里的 channel 读写可以分离，也是类似的思想。&lt;/p&gt;
&lt;p&gt;总结以上六个原则，不是为了背，融入编程的本能以及结合具体的环境，对项目真正有帮助才是王道。不过既然是面对像，离不开 封装、继承、多态，抽象的好坏是及其重要的。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;第一章描述了面向对象六大的原则，平时有用到一些，没有想过总结之类的，并不是强求必须符合，但是具有很高的指导意义。&lt;/p&gt;
&lt;h2 id=&quot;单一&quot;&gt;&lt;a href=&quot;#单一&quot; class=&quot;headerlink&quot; title=&quot;单一&quot;&gt;&lt;/a&gt;单一&lt;/h2&gt;&lt;p&gt;  每个对象
    
    </summary>
    
    
      <category term="Android-Source-Design-pattern" scheme="http://crossrun.top/tags/Android-Source-Design-pattern/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://crossrun.top/2016/04/21/hello-world/"/>
    <id>http://crossrun.top/2016/04/21/hello-world/</id>
    <published>2016-04-21T05:11:56.234Z</published>
    <updated>2015-07-06T06:03:05.236Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;http://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;http://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;http://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;http://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;http://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;http://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;http://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;http://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;http://hexo.io
    
    </summary>
    
    
      <category term="test" scheme="http://crossrun.top/tags/test/"/>
    
  </entry>
  
  <entry>
    <title>锋芒社第一次会议-立社谈</title>
    <link href="http://crossrun.top/2016/04/13/%E9%94%8B%E8%8A%92%E7%A4%BE%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BC%9A%E8%AE%AE-%E7%AB%8B%E7%A4%BE%E8%B0%88/"/>
    <id>http://crossrun.top/2016/04/13/锋芒社第一次会议-立社谈/</id>
    <published>2016-04-13T04:39:10.000Z</published>
    <updated>2016-04-25T05:09:50.698Z</updated>
    
    <content type="html">&lt;h1 id=&quot;参与人员&quot;&gt;&lt;a href=&quot;#参与人员&quot; class=&quot;headerlink&quot; title=&quot;参与人员&quot;&gt;&lt;/a&gt;参与人员&lt;/h1&gt;&lt;p&gt;贰货道士，藕霸，二兮，银酱，小步，英雄&lt;br&gt;投票定下职务：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;社长 &lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;贰货道士&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;副社长&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;藕霸&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;化妆部部长&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;二兮&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cos部部长&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;银酱&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;后勤部部长&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;小步&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;颜值&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;英雄&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;社规&quot;&gt;&lt;a href=&quot;#社规&quot; class=&quot;headerlink&quot; title=&quot;社规&quot;&gt;&lt;/a&gt;社规&lt;/h1&gt;&lt;p&gt;入社改称谓，统一格式为【XXX】自己CN。例如【妆娘】洛白。&lt;br&gt;&lt;strong&gt;本社拒绝社员串社，但是可以做外援。&lt;/strong&gt;&lt;br&gt;社团刚起步，百废待兴，希望社里的每一个小伙伴都能积极出力。&lt;br&gt;最后P上社长教条：&lt;strong&gt;友好撕逼拒绝黄暴！&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;招收计划&quot;&gt;&lt;a href=&quot;#招收计划&quot; class=&quot;headerlink&quot; title=&quot;招收计划&quot;&gt;&lt;/a&gt;招收计划&lt;/h1&gt;&lt;p&gt;暂定全社共30人。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;coser*10&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;年满18，有一定经济能力&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;妆后颜值OK，有正片经验，入社后一季度至少一套正片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;没有公主病、玻璃心&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;自带技能加分&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;摄影*3&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;有一定经验，有三部以上正片。可以有偿。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;后期*2&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;有一定经验，有三部以上正片。可以有偿。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;文案*1&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;美工*1&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;宣传*2&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;裁缝 *1&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;后勤*4&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;主要活动地区杭州&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      锋芒社会议记录
    
    </summary>
    
    
      <category term="锋芒" scheme="http://crossrun.top/tags/%E9%94%8B%E8%8A%92/"/>
    
  </entry>
  
  <entry>
    <title>Android版本变迁的坑</title>
    <link href="http://crossrun.top/2016/01/22/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91/"/>
    <id>http://crossrun.top/2016/01/22/Android版本变迁的坑/</id>
    <published>2016-01-22T06:42:17.000Z</published>
    <updated>2016-01-22T06:45:00.870Z</updated>
    
    <content type="html">&lt;p&gt;Android版本变迁的坑 是一个系列，用于记录在Android版本升级中对开发者产生影响的一些变动。&lt;strong&gt;坑&lt;/strong&gt;并不是指不好的，而是一个模糊的指代。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Android版本变迁的坑 是一个系列，用于记录在Android版本升级中对开发者产生影响的一些变动。&lt;strong&gt;坑&lt;/strong&gt;并不是指不好的，而是一个模糊的指代。&lt;/p&gt;

    
    </summary>
    
    
      <category term="Android版本变迁的坑" scheme="http://crossrun.top/tags/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>Android版本变迁的坑2--自定义权限</title>
    <link href="http://crossrun.top/2016/01/22/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%912-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9D%83%E9%99%90/"/>
    <id>http://crossrun.top/2016/01/22/Android版本变迁的坑2-自定义权限/</id>
    <published>2016-01-22T06:12:33.000Z</published>
    <updated>2016-01-22T06:42:01.431Z</updated>
    
    <content type="html">&lt;p&gt;Android中可以通过实现自定义权限，来控制自己的某个开放接口的使用权限，在5.0之前，是没有什么限制的，但是在5.0及upper，自定义权限需要同一个签名。  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A提供了一个SDK，有自定义权限 P-A；  &lt;/li&gt;
&lt;li&gt;B引用了SDK，申明了自定义权限 P-A；  &lt;/li&gt;
&lt;li&gt;C引用了SDK，申明了自定义权限 P-A；   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在5.0及upper，B和C需要&lt;strong&gt;同一个签名&lt;/strong&gt;才能正常使用，否则会造成另一方应用&lt;strong&gt;无法安装、使用崩溃&lt;/strong&gt;等情况发生。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;permission android:description=&amp;quot;string resource&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:icon=&amp;quot;drawable resource&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:label=&amp;quot;string resource&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:name=&amp;quot;com.xxx.permission&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:permissionGroup=&amp;quot;string&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:protectionLevel=[&amp;quot;normal&amp;quot; | &amp;quot;dangerous&amp;quot; |   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     &amp;quot;signature&amp;quot; | &amp;quot;signatureOrSystem&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;android:description :对权限的描述，一般是两句话，第一句话描述这个权限所针对的操作，第二句话告诉用户授予app这个权限会带来的后果&lt;br&gt;android:label: 对权限的一个简短描述&lt;br&gt;android:name :权限的唯一标识，一般都是使用 报名加权限名&lt;br&gt;android:permissionGroup: 权限所属权限组的名称&lt;br&gt;android:protectionLevel: 权限的等级&lt;br&gt;normal 是最低的等级，声明次权限的app，系统会默认授予次权限，不会提示用户&lt;br&gt;dangerous  权限对应的操作有安全风险，系统在安装声明此类权限的app时会提示用户&lt;br&gt;signature  权限表明的操作只针对使用同一个证书签名的app开放&lt;br&gt;signatureOrSystem  与signature类似，只是增加了rom中自带的app的声明  &lt;/p&gt;
&lt;p&gt;使用的话就是&lt;code&gt;&amp;lt;uses-permission android:name=&amp;quot;com.xxx.permission&amp;quot; /&amp;gt;&lt;/code&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Android中可以通过实现自定义权限，来控制自己的某个开放接口的使用权限，在5.0之前，是没有什么限制的，但是在5.0及upper，自定义权限需要同一个签名。  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A提供了一个SDK，有自定义权限 P-A；  &lt;/li&gt;
&lt;li&gt;B引用了SDK，
    
    </summary>
    
    
      <category term="Android版本变迁的坑" scheme="http://crossrun.top/tags/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>Android版本变迁的坑1--自定义属性</title>
    <link href="http://crossrun.top/2016/01/22/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%911-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7/"/>
    <id>http://crossrun.top/2016/01/22/Android版本变迁的坑1-自定义属性/</id>
    <published>2016-01-22T06:12:17.000Z</published>
    <updated>2016-01-22T06:23:48.480Z</updated>
    
    <content type="html">&lt;p&gt;Android 中可以通过自定义属性来实现开发者想要的一些特殊的属性，在某个版本之前，引用自定义属性必须写全包名，但是这样不方便，也不利于copy和paste，现在，可以不用写具体的包名，统一使用一个uri代替：&lt;br&gt;&lt;code&gt;xmlns:attr=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/code&gt; 其中 &lt;code&gt;attr&lt;/code&gt; 是自定义的NameSpace，可以随意代替，其他的不用更改便可以直接在 Layout的xml中直接使用。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;RelativeLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xmlns:attr=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:paddingBottom=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:paddingLeft=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:paddingRight=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:paddingTop=&amp;quot;@dimen/activity_vertical_margin&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    tools:context=&amp;quot;com.openglesbook.hellotriangle.MainActivity&amp;quot; &amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;TextView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            attr:shelfLayerCenter=&amp;quot;3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            attr:buttonNum=&amp;quot;2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:layout_height=&amp;quot;0dp&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:layout_gravity=&amp;quot;center_vertical&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:layout_weight=&amp;quot;1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:padding=&amp;quot;8dp&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:text=&amp;quot;@string/hello_world&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/RelativeLayout&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;declare-styleable name=&amp;quot;toolbar&amp;quot;&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;attr name=&amp;quot;buttonNum&amp;quot; format=&amp;quot;integer&amp;quot;/&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;attr name=&amp;quot;itemBackground&amp;quot; format=&amp;quot;reference|color&amp;quot;/&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/declare-styleable&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;attr name=&amp;quot;shelfLayerCenter&amp;quot; format=&amp;quot;integer&amp;quot; /&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样就能很方便的使用自定义属性了。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Android 中可以通过自定义属性来实现开发者想要的一些特殊的属性，在某个版本之前，引用自定义属性必须写全包名，但是这样不方便，也不利于copy和paste，现在，可以不用写具体的包名，统一使用一个uri代替：&lt;br&gt;&lt;code&gt;xmlns:attr=&amp;quot;http
    
    </summary>
    
    
      <category term="Android版本变迁的坑" scheme="http://crossrun.top/tags/Android%E7%89%88%E6%9C%AC%E5%8F%98%E8%BF%81%E7%9A%84%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>Android中ListView里有EditeTextView造成的焦点冲突</title>
    <link href="http://crossrun.top/2015/11/23/Android%E4%B8%ADListView%E9%87%8C%E6%9C%89EditeTextView%E9%80%A0%E6%88%90%E7%9A%84%E7%84%A6%E7%82%B9%E5%86%B2%E7%AA%81/"/>
    <id>http://crossrun.top/2015/11/23/Android中ListView里有EditeTextView造成的焦点冲突/</id>
    <published>2015-11-23T10:42:06.000Z</published>
    <updated>2015-11-23T10:49:54.928Z</updated>
    
    <content type="html">&lt;p&gt;Android中ListView里有EditeTextView造成的焦点冲突&lt;/p&gt;
&lt;p&gt;当使用的ListView的Item中有EditText中会造成EditTextView在弹出软键盘后失去焦点，因为，弹出软键盘后会刷新界面，重新调用getView()方法。&lt;br&gt;所以可以 设置&lt;code&gt;android:descendantFocusability&lt;/code&gt; 属性值有三种：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;beforeDescendants：viewgroup会优先其子类控件而获取到焦点
afterDescendants：viewgroup只有当其子类控件不需要获取焦点时才获取焦点
blocksDescendants：viewgroup会覆盖子类控件而直接获得焦点
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/eyu8874521/archive/2012/10/17/2727882.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;详解&lt;/a&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;ListView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:background=&amp;quot;#ffffff&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:cacheColorHint=&amp;quot;#00000000&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:listSelector=&amp;quot;#00000000&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:divider=&amp;quot;#BEBFC1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:dividerHeight=&amp;quot;1dp&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:descendantFocusability=&amp;quot;afterDescendants&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:fadingEdge=&amp;quot;none&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    android:scrollbars=&amp;quot;none&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后代码中设置&lt;code&gt;setOnItemClickListener()&lt;/code&gt;记录下当前点击的Item位置，然后在&lt;code&gt;getView()&lt;/code&gt;里判断，如果是点击的位置，手动给&lt;code&gt;edittext.request()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;完成以上两个步骤，就可以保持，点击&lt;code&gt;Edittext&lt;/code&gt;以后，界面上移的时候，&lt;code&gt;Edittext&lt;/code&gt;不会失去焦点了&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Android中ListView里有EditeTextView造成的焦点冲突&lt;/p&gt;
&lt;p&gt;当使用的ListView的Item中有EditText中会造成EditTextView在弹出软键盘后失去焦点，因为，弹出软键盘后会刷新界面，重新调用getView()方法。&lt;br&gt;所
    
    </summary>
    
    
      <category term="Android" scheme="http://crossrun.top/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>自定义带有Tag标签的TextView-Android</title>
    <link href="http://crossrun.top/2015/11/11/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%A6%E6%9C%89Tag%E6%A0%87%E7%AD%BE%E7%9A%84TextView-Android/"/>
    <id>http://crossrun.top/2015/11/11/自定义带有Tag标签的TextView-Android/</id>
    <published>2015-11-11T02:21:28.000Z</published>
    <updated>2015-11-11T07:42:30.940Z</updated>
    
    <content type="html">&lt;p&gt;注明出处的可随意转载。&lt;/p&gt;
&lt;p&gt;效果 如下&lt;br&gt;&lt;img src=&quot;http://crossrun.top/pic/tag-android.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;蓝色的是标签，后面的是内容。&lt;/p&gt;
&lt;p&gt;简单解析下，使用的是TextView的Html解析功能。核心有三点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;动态测量文字宽度与高度&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;测量宽度使用&lt;code&gt;paint.measureText(str)&lt;/code&gt;方法，可以得到一个float类型的返回值，就是&lt;code&gt;str&lt;/code&gt;显示到屏幕上的宽度，不过记得要先&lt;code&gt;paint.setTextSize(size)&lt;/code&gt; ，&lt;code&gt;size&lt;/code&gt;是想要显示的文字的大小&lt;/li&gt;
&lt;li&gt;测量高度。参考的是   &lt;a href=&quot;http://sd4886656.iteye.com/blog/1200890&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android高度的研究&lt;/a&gt; &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;FontMetrics fm = paint.getFontMetrics();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hh = (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) (Math.ceil(fm.descent- fm.ascent));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;圆角背景&lt;/p&gt;
&lt;p&gt;圆角背景使用的是&lt;code&gt;GradientDrawable&lt;/code&gt;，我继承了&lt;code&gt;GradientDrawable&lt;/code&gt;然后重载&lt;code&gt;draw()&lt;/code&gt;把标签需要显示的文字加上去。&lt;br&gt;然后&lt;code&gt;ImageGetter    imgGetter    = new ImageGetter(){}&lt;/code&gt;把要添加的背景整理好。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TextView解析Html形式&lt;/p&gt;
&lt;p&gt;&lt;code&gt;CharSequence charSequence = Html.fromHtml(&amp;quot;&amp;lt;img src=&amp;#39;dd&amp;#39;/&amp;gt;&amp;quot;, imgGetter,null);&lt;/code&gt;&lt;br&gt;通过这一句话把写好的标签添加到TextView头部，完成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; 完整源码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;162&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;164&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;165&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;166&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;167&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;168&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;169&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;170&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;171&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;172&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;173&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;174&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;175&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;176&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;177&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;178&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;179&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;181&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;182&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;183&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;184&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;185&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;186&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;187&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;188&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;189&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.example.dd;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.content.Context;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.Canvas;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.Color;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.Paint;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.Paint.FontMetrics;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.drawable.Drawable;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.graphics.drawable.GradientDrawable;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.Html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.text.Html.ImageGetter;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.util.AttributeSet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.LinearLayout;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; android.widget.TextView;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 带标签的TextView布局&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt; CrossRun&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagTextView&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;LinearLayout&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;			radian			= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; String		tagStr			= &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;			tagTextColor	= Color.BLACK;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;			tagBGolor		= Color.BLUE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TextView	con;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt;				ww;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;					hh;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagTextView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;(context, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagTextView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;(context, attrs, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagTextView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; defStyleAttr)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs, defStyleAttr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		init();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// inflate(getContext(), R.layout.textview_tag, this);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// con = (TextView) findViewById(R.id.tag_text);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		con = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TextView(getContext());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		addView(con);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置文字内容&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; text&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String text)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// ShapeDrawable bg = new ShapeDrawable();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		CharSequence charSequence = Html.fromHtml(&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;img src=&#39;dd&#39;/&amp;gt;&quot;&lt;/span&gt;, imgGetter,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		con.setText(charSequence);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		con.append(text);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ImageGetter	imgGetter	= &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ImageGetter() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;								&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;								&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Drawable &lt;span class=&quot;title&quot;&gt;getDrawable&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String source)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									Paint paint = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									paint.setTextSize(con.getTextSize());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									ww = tagStr == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : paint&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;											.measureText(tagStr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									paint.setAntiAlias(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									FontMetrics fm = paint.getFontMetrics();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									hh = (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) (Math.ceil(fm.descent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;											- fm.ascent));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									TagDrawable d = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TagDrawable();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									d.setBounds(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) ww + &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;, hh + &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									d.setColor(tagBGolor);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									d.setCornerRadius(radian);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									&lt;span class=&quot;comment&quot;&gt;// Drawable d =&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									&lt;span class=&quot;comment&quot;&gt;// getResources().getDrawable(R.drawable.ic_launcher);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									&lt;span class=&quot;comment&quot;&gt;// d.setBounds(0, 0, d.getIntrinsicWidth(),&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									&lt;span class=&quot;comment&quot;&gt;// d.getIntrinsicHeight());&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;									&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; d;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;								&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;							&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagDrawable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GradientDrawable&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Paint	textPaint;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TagDrawable&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			textPaint = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Paint();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			textPaint.setColor(tagTextColor);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			setColor(Color.BLUE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			textPaint.setTextSize(con.getTextSize());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Canvas canvas)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.draw(canvas);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			canvas.drawText(tagStr, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;, hh, textPaint);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 角度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getRadian&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; radian;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置角度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; radian&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setRadian&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; radian)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.radian = radian;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getTagStr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; tagStr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置标签字内容&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; tagStr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setTagStr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String tagStr)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.tagStr = tagStr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTagTextColor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; tagTextColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置标签字的颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; tagTextColor&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setTagTextColor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; tagTextColor)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.tagTextColor = tagTextColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTagBGolor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; tagBGolor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置标签的背景色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; tagBGolor&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setTagBGolor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; tagBGolor)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.tagBGolor = tagBGolor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置内容字大小&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setTextSize&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; size)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		con.setTextSize(size);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * 设置内容字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; color&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setTextColor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; color)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		con.setTextColor(color);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;注明出处的可随意转载。&lt;/p&gt;
&lt;p&gt;效果 如下&lt;br&gt;&lt;img src=&quot;http://crossrun.top/pic/tag-android.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;蓝色的是标签，后面的是内容。&lt;/p&gt;
&lt;p&gt;简单解析下，使用的是TextVie
    
    </summary>
    
    
      <category term="Android" scheme="http://crossrun.top/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android里Dialog全屏背景变暗自定义Dialog背景颜色</title>
    <link href="http://crossrun.top/2015/08/28/Android%E9%87%8CDialog%E5%85%A8%E5%B1%8F%E8%83%8C%E6%99%AF%E5%8F%98%E6%9A%97%E8%87%AA%E5%AE%9A%E4%B9%89Dialog%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2/"/>
    <id>http://crossrun.top/2015/08/28/Android里Dialog全屏背景变暗自定义Dialog背景颜色/</id>
    <published>2015-08-28T07:38:01.000Z</published>
    <updated>2015-08-28T07:38:01.424Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Android中原样获取strings.xml里的字符串</title>
    <link href="http://crossrun.top/2015/08/13/Android%E4%B8%AD%E5%8E%9F%E6%A0%B7%E8%8E%B7%E5%8F%96strings-xml%E9%87%8C%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>http://crossrun.top/2015/08/13/Android中原样获取strings-xml里的字符串/</id>
    <published>2015-08-13T01:53:59.000Z</published>
    <updated>2015-08-17T07:59:02.184Z</updated>
    
    <content type="html">&lt;p&gt;getText,getString&lt;br&gt;cdata&lt;br&gt;Multiple annotations found at this line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- error: Multiple substitutions specified in non-positional format; did you mean to add the formatted=&amp;quot;false&amp;quot; 
 attribute?
- error: Unexpected end tag string
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;strings.xml格式化占位符错误&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;getText,getString&lt;br&gt;cdata&lt;br&gt;Multiple annotations found at this line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- error: Multiple substitutions specified in non-po
    
    </summary>
    
    
      <category term="Android" scheme="http://crossrun.top/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android使用addview()添加View导致View无法正常显示</title>
    <link href="http://crossrun.top/2015/08/10/Android%E4%BD%BF%E7%94%A8addview-%E6%B7%BB%E5%8A%A0View%E5%AF%BC%E8%87%B4View%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA/"/>
    <id>http://crossrun.top/2015/08/10/Android使用addview-添加View导致View无法正常显示/</id>
    <published>2015-08-10T06:38:32.000Z</published>
    <updated>2015-08-10T06:38:32.560Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Android里ListView或者ScrollView的向下事件传递小技巧</title>
    <link href="http://crossrun.top/2015/07/28/Android%E9%87%8CListView%E6%88%96%E8%80%85ScrollView%E7%9A%84%E5%90%91%E4%B8%8B%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>http://crossrun.top/2015/07/28/Android里ListView或者ScrollView的向下事件传递小技巧/</id>
    <published>2015-07-28T02:38:52.000Z</published>
    <updated>2015-07-28T02:38:52.394Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Android低版本实现Material-Design</title>
    <link href="http://crossrun.top/2015/07/24/Android%E4%BD%8E%E7%89%88%E6%9C%AC%E5%AE%9E%E7%8E%B0Material-Design/"/>
    <id>http://crossrun.top/2015/07/24/Android低版本实现Material-Design/</id>
    <published>2015-07-24T09:27:06.000Z</published>
    <updated>2015-07-24T09:27:06.829Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Android-Universal-Image-Loader-图片异步加载类库的使用（超详细配置）</title>
    <link href="http://crossrun.top/2015/07/16/Android-Universal-Image-Loader-%E5%9B%BE%E7%89%87%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E7%B1%BB%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E8%B6%85%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%EF%BC%89/"/>
    <id>http://crossrun.top/2015/07/16/Android-Universal-Image-Loader-图片异步加载类库的使用（超详细配置）/</id>
    <published>2015-07-16T09:36:27.000Z</published>
    <updated>2015-07-16T09:37:32.150Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/vipzjyno1/article/details/23206387&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android-Universal-Image-Loader 图片异步加载类库的使用（超详细配置）&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/vipzjyno1/article/details/23206387&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Android-Universal-Image-Loader 图片异步加载类库的
    
    </summary>
    
    
      <category term="Android-Universal-Image-Loader,ImageLoader" scheme="http://crossrun.top/tags/Android-Universal-Image-Loader-ImageLoader/"/>
    
  </entry>
  
  <entry>
    <title>Android开源开发框架一</title>
    <link href="http://crossrun.top/2015/07/16/Android%E5%BC%80%E6%BA%90%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    <id>http://crossrun.top/2015/07/16/Android开源开发框架/</id>
    <published>2015-07-16T06:18:54.000Z</published>
    <updated>2016-04-25T04:58:06.707Z</updated>
    
    <content type="html">&lt;p&gt;一些开发中可能会用到的框架&lt;/p&gt;
&lt;h2 id=&quot;1、volley&quot;&gt;&lt;a href=&quot;#1、volley&quot; class=&quot;headerlink&quot; title=&quot;1、volley&quot;&gt;&lt;/a&gt;1、volley&lt;/h2&gt;&lt;p&gt;项目地址&lt;a href=&quot;https://github.com/smanikandan14/Volley-demo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/smanikandan14/Volley-demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(1) JSON，图像等的异步下载；&lt;br&gt;(2) 网络请求的排序（scheduling）&lt;br&gt;(3) 网络请求的优先级处理&lt;br&gt;(4) 缓存&lt;br&gt;(5) 多级别取消请求&lt;br&gt;(6) 和Activity和生命周期的联动（Activity结束时同时取消所有网络请求）&lt;/p&gt;
&lt;h2 id=&quot;2、android-async-http&quot;&gt;&lt;a href=&quot;#2、android-async-http&quot; class=&quot;headerlink&quot; title=&quot;2、android-async-http&quot;&gt;&lt;/a&gt;2、android-async-http&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/loopj/android-async-http&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/loopj/android-async-http&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;文档介绍：&lt;a href=&quot;http://loopj.com/android-async-http/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://loopj.com/android-async-http/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(1) 在匿名回调中处理请求结果&lt;br&gt;(2) 在UI线程外进行http请求&lt;br&gt;(3) 文件断点上传&lt;br&gt;(4) 智能重试&lt;br&gt;(5) 默认gzip压缩&lt;br&gt;(6) 支持解析成Json格式&lt;br&gt;(7) 可将Cookies持久化到SharedPreferences&lt;/p&gt;
&lt;h2 id=&quot;3、Afinal框架&quot;&gt;&lt;a href=&quot;#3、Afinal框架&quot; class=&quot;headerlink&quot; title=&quot;3、Afinal框架&quot;&gt;&lt;/a&gt;3、Afinal框架&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/yangfuhai/afinal&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/yangfuhai/afinal&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主要有四大模块：&lt;/p&gt;
&lt;p&gt;(1) 数据库模块：android中的orm框架，使用了线程池对sqlite进行操作。&lt;br&gt;(2) 注解模块：android中的ioc框架，完全注解方式就可以进行UI绑定和事件绑定。无需findViewById和setClickListener等。&lt;br&gt;(3) 网络模块：通过httpclient进行封装http数据请求，支持ajax方式加载，支持下载、上传文件功能。&lt;br&gt;(4) 图片缓存模块：通过FinalBitmap，imageview加载bitmap的时候无需考虑bitmap加载过程中出现的oom和android容器快速滑动时候出现的图片错位等现象。&lt;br&gt;FinalBitmap可以配置线程加载线程数量，缓存大小，缓存路径，加载显示动画等。FinalBitmap的内存管理使用lru算法， 没有使用弱引用（android2.3以后google已经不建议使用弱引用，android2.3后强行回收软引用和弱引用，详情查看android官方文档）， 更好的管理bitmap内存。&lt;/p&gt;
&lt;p&gt;FinalBitmap可以自定义下载器，用来扩展其他协议显示网络图片，比如ftp等。同时可以自定义bitmap显示器， 在imageview显示图片的时候播放动画等（默认是渐变动画显示）。&lt;/p&gt;
&lt;h2 id=&quot;4、xUtils框架&quot;&gt;&lt;a href=&quot;#4、xUtils框架&quot; class=&quot;headerlink&quot; title=&quot;4、xUtils框架&quot;&gt;&lt;/a&gt;4、xUtils框架&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/wyouflf/xUtils&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/wyouflf/xUtils&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主要有四大模块：&lt;/p&gt;
&lt;p&gt;(1) 数据库模块：android中的orm框架，一行代码就可以进行增删改查；&lt;/p&gt;
&lt;p&gt;支持事务，默认关闭；&lt;br&gt;可通过注解自定义表名，列名，外键，唯一性约束，NOT NULL约束，CHECK约束等（需要混淆的时候请注解表名和列名）；&lt;br&gt;支持绑定外键，保存实体时外键关联实体自动保存或更新；&lt;br&gt;自动加载外键关联实体，支持延时加载；&lt;br&gt;支持链式表达查询，更直观的查询语义，参考下面的介绍或sample中的例子.&lt;br&gt;(2) 注解模块：android中的ioc框架，完全注解方式就可以进行UI，资源和事件绑定；&lt;/p&gt;
&lt;p&gt;新的事件绑定方式，使用混淆工具混淆后仍可正常工作；&lt;br&gt;目前支持常用的20种事件绑定，参见ViewCommonEventListener类和包com.lidroid.xutils.view.annotation.event。&lt;br&gt;(3) 网络模块：支持同步，异步方式的请求；&lt;/p&gt;
&lt;p&gt;支持大文件上传，上传大文件不会oom；&lt;br&gt;支持GET，POST，PUT，MOVE，COPY，DELETE，HEAD，OPTIONS，TRACE，CONNECT请求；&lt;br&gt;下载支持301/302重定向，支持设置是否根据Content-Disposition重命名下载的文件；&lt;br&gt;返回文本内容的请求(默认只启用了GET请求)支持缓存，可设置默认过期时间和针对当前请求的过期时间。&lt;/p&gt;
&lt;p&gt;(4) 图片缓存模块：加载bitmap的时候无需考虑bitmap加载过程中出现的oom和android容器快速滑动时候出现的图片错位等现象；&lt;/p&gt;
&lt;p&gt;支持加载网络图片和本地图片；&lt;br&gt;内存管理使用lru算法，更好的管理bitmap内存；&lt;br&gt;可配置线程加载线程数量，缓存大小，缓存路径，加载显示动画等…&lt;/p&gt;
&lt;h2 id=&quot;5、ThinkAndroid&quot;&gt;&lt;a href=&quot;#5、ThinkAndroid&quot; class=&quot;headerlink&quot; title=&quot;5、ThinkAndroid&quot;&gt;&lt;/a&gt;5、ThinkAndroid&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/white-cat/ThinkAndroid&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/white-cat/ThinkAndroid&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主要有以下模块：&lt;/p&gt;
&lt;p&gt;(1) MVC模块：实现视图与模型的分离。&lt;br&gt;(2) ioc模块：android中的ioc模块，完全注解方式就可以进行UI绑定、res中的资源的读取、以及对象的初始化。&lt;br&gt;(3) 数据库模块：android中的orm框架，使用了线程池对sqlite进行操作。&lt;br&gt;(4) http模块：通过httpclient进行封装http数据请求，支持异步及同步方式加载。&lt;br&gt;(5) 缓存模块：通过简单的配置及设计可以很好的实现缓存，对缓存可以随意的配置&lt;br&gt;(6) 图片缓存模块：imageview加载图片的时候无需考虑图片加载过程中出现的oom和android容器快速滑动时候出现的图片错位等现象。&lt;br&gt;(7) 配置器模块：可以对简易的实现配对配置的操作，目前配置文件可以支持Preference、Properties对配置进行存取。&lt;br&gt;(8) 日志打印模块：可以较快的轻易的是实现日志打印，支持日志打印的扩展，目前支持对sdcard写入本地打印、以及控制台打印&lt;br&gt;(9) 下载器模块:可以简单的实现多线程下载、后台下载、断点续传、对下载进行控制、如开始、暂停、删除等等。&lt;br&gt;(10) 网络状态检测模块：当网络状态改变时，对其进行检&lt;/p&gt;
&lt;h2 id=&quot;6、LoonAndroid&quot;&gt;&lt;a href=&quot;#6、LoonAndroid&quot; class=&quot;headerlink&quot; title=&quot;6、LoonAndroid&quot;&gt;&lt;/a&gt;6、LoonAndroid&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/gdpancheng/LoonAndroid&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/gdpancheng/LoonAndroid&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主要有以下模块：&lt;/p&gt;
&lt;p&gt;(1) 自动注入框架（只需要继承框架内的application既可）&lt;br&gt;(2) 图片加载框架（多重缓存，自动回收，最大限度保证内存的安全性）&lt;br&gt;(3) 网络请求模块（继承了基本上现在所有的http请求）&lt;br&gt;(4) eventbus（集成一个开源的框架）&lt;br&gt;(5) 验证框架（集成开源框架）&lt;br&gt;(6) json解析（支持解析成集合或者对象）&lt;br&gt;(7) 数据库（不知道是哪位写的 忘记了）&lt;br&gt;(8) 多线程断点下载（自动判断是否支持多线程，判断是否是重定向）&lt;br&gt;(9) 自动更新模块&lt;br&gt;(10) 一系列工具类&lt;br&gt;其中的 volley扩展性非常好，个人比较喜欢的风格。其他如 android-async-http、Afinal 也相当不错。&lt;/p&gt;
&lt;h2 id=&quot;7、AndroidAnnotations&quot;&gt;&lt;a href=&quot;#7、AndroidAnnotations&quot; class=&quot;headerlink&quot; title=&quot;7、AndroidAnnotations&quot;&gt;&lt;/a&gt;7、AndroidAnnotations&lt;/h2&gt;&lt;p&gt;项目地址：&lt;/p&gt;
&lt;p&gt;AndroidAnnotations首页&lt;/p&gt;
&lt;p&gt;github上的项目地址&lt;/p&gt;
&lt;p&gt;主要有以下特点：&lt;/p&gt;
&lt;p&gt;使用依赖注入(DI)、控制反转(IOC)来简化开发过程&lt;br&gt;简化的线程模型（Simplified threading model)&lt;br&gt;事件绑定（Event binding）&lt;br&gt;REST Client&lt;br&gt;No Magic&lt;br&gt;类似框架：Bufferknife&lt;/p&gt;
&lt;h2 id=&quot;8、RoboGuice&quot;&gt;&lt;a href=&quot;#8、RoboGuice&quot; class=&quot;headerlink&quot; title=&quot;8、RoboGuice&quot;&gt;&lt;/a&gt;8、RoboGuice&lt;/h2&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://github.com/roboguice/roboguice&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/roboguice/roboguice&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;RoboGuice 使得进行Android开发更加方便，使得开发变得更加简单也更有乐趣。当你调用getIntent().getExtras()是不是经常检查是否为null？RoboGuice可以帮助你。想想调用findViewById()并映射到TextView确实有必要么？RoboGuice也可以帮你。&lt;/p&gt;
&lt;p&gt;RoboGuice 可以帮助解决这类的判断工作。你再也不用记住，是通过调用bindService获取一个用户service，调用getSystemService获取一个系统service。注入你的view、service、或者其他对象，然后让RoboGuice来处理剩下的事宜。&lt;/p&gt;
&lt;p&gt;RoboGuice 精简了你的应用代码。更少的代码意味着bug也会更少。也使得阅读代码更加容易，不在纠缠于Android平台的各种特性，而是关注于应用实际的业务逻辑。&lt;/p&gt;
&lt;p&gt;没什么很难的，你所需要做的仅仅是配置RoboGuice。&lt;/p&gt;
&lt;h2 id=&quot;9、Dagger&quot;&gt;&lt;a href=&quot;#9、Dagger&quot; class=&quot;headerlink&quot; title=&quot;9、Dagger&quot;&gt;&lt;/a&gt;9、Dagger&lt;/h2&gt;&lt;p&gt;项目地址&lt;a href=&quot;https://github.com/square/dagger&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/square/dagger&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;android的依赖注入框架（DI框架），感觉跟Spring 的IOC差不多吧。这个框架它的好处是它没有采用反射技术（Spring是用反射的）,而是用预编译技术，因为基于反射的DI非常地耗用资源（空间，时间）&lt;/p&gt;
&lt;h2 id=&quot;10、Fresco&quot;&gt;&lt;a href=&quot;#10、Fresco&quot; class=&quot;headerlink&quot; title=&quot;10、Fresco　&quot;&gt;&lt;/a&gt;10、Fresco　&lt;/h2&gt;&lt;p&gt;中文文档&lt;a href=&quot;http://fresco-cn.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://fresco-cn.org/&lt;/a&gt; 项目地址&lt;a href=&quot;https://github.com/facebook/fresco&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/facebook/fresco&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fresco 是一个强大的图片加载组件。&lt;/p&gt;
&lt;p&gt;Fresco 中设计有一个叫做 image pipeline 的模块。它负责从网络，从本地文件系统，本地资源加载图片。为了最大限度节省空间和CPU时间，它含有3级缓存设计（2级内存，1级文件）。&lt;/p&gt;
&lt;p&gt;Fresco 中设计有一个叫做 Drawees 模块，方便地显示loading图，当图片不再显示在屏幕上时，及时地释放内存和空间占用。&lt;/p&gt;
&lt;p&gt;特性：&lt;/p&gt;
&lt;p&gt;内存管理&lt;br&gt;图片的渐进式呈现&lt;br&gt;支持加载Gif图，支持WebP格式&lt;/p&gt;
&lt;p&gt;##11、ActiveAndroid&lt;br&gt;项目地址：&lt;a href=&quot;https://github.com/pardom/ActiveAndroid&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/pardom/ActiveAndroid&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ActiveAndroid是一个活跃的记录风格的ORM（对象关系映射）库。ActiveAndroid可以让您保存和检索的SQLite数据库记录而没有写一个SQL语句。每个数据库记录被整齐包裹成一个model类,像保存方法（）和delete（）。&lt;/p&gt;
&lt;p&gt;##12、Android-Universal-Image-Loader&lt;br&gt;项目地址：&lt;a href=&quot;https://github.com/nostra13/Android-Universal-Image-Loader&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/nostra13/Android-Universal-Image-Loader&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Android-Universal-Image-Loader是一个开源的UI组件程序，该项目的目的是提供一个可重复使用的仪器为异步图像加载，缓存和显示。所以，如果你的程序里需要这个功能的话，那么不妨试试它。因为已经封装好了一些类和方法。我们 可以直接拿来用了。而不用重复去写了。其实，写一个这方面的程序还是比较麻烦的，要考虑多线程，缓存，内存溢出等很多方面。但是，你也可以参考这个例子来自己写出更好的程序。&lt;/p&gt;
&lt;p&gt;本文转载自：&lt;a href=&quot;http://coolshell.info/blog/2014/10/android-opensource.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;值得推荐的android开源框架&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;一些开发中可能会用到的框架&lt;/p&gt;
&lt;h2 id=&quot;1、volley&quot;&gt;&lt;a href=&quot;#1、volley&quot; class=&quot;headerlink&quot; title=&quot;1、volley&quot;&gt;&lt;/a&gt;1、volley&lt;/h2&gt;&lt;p&gt;项目地址&lt;a href=&quot;https://gith
    
    </summary>
    
    
      <category term="Android 框架" scheme="http://crossrun.top/tags/Android-%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
</feed>
